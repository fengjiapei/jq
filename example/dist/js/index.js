!function t(e,n,i){function a(r,s){if(!n[r]){if(!e[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+r+"'")}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){var n=e[r][1][t];return a(n?n:t)},u,u.exports,t,e,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(t,e,n){!function(t){var i=function(){return function(e,n,i,a,o){if(a){var r;switch(e=encodeURIComponent(e||""),n=encodeURIComponent(n||""),i=encodeURIComponent(i||""),a){case"weibosohu":r="http://t.sohu.com/third/post.jsp?url="+e+"&title="+n+"&pic="+i;break;case"weibosina":r="http://service.t.sina.com.cn/share/share.php?title="+n+e+"&pic="+i+"&searchPic=false";break;case"qq":r="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+e+"&title="+n+"&desc="+n+"&summary="+i;break;case"tqq":r="http://v.t.qq.com/share/share.php?url="+e+"&title="+n+"&pic="+i;break;case"renren":r="http://widget.renren.com/dialog/share?resourceUrl="+i+"&srcUrl="+e+"&title="+n+"&description="+n;break;case"baishehui":r="http://bai.sohu.com/share/blank/addbutton.do?link="+e+"&title="+n+"&pic="+i;break;case"douban":r="http://shuo.douban.com/!service/share?href="+e+"&name="+n;break;case"kaixin001":r="http://www.kaixin001.com/rest/records.php?url="+e+"&style=11&content="+n;break;case"163":r="http://t.163.com/article/user/checkLogin.do?info="+n+e;break;case"51":r="http://share.51.com/share/share.php?vaddr="+e+"&title="+n+"&type=8&pic="+i;break;case"txpengyou":r="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?to=pengyou&url="+e+"&title="+n+"&desc="+n+"&summary="+i;break;case"tieba":r="http://tieba.baidu.com/f/commit/share/openShareApi?url="+e+"&title="+n+"&desc="+n}return o?r:t.open(r)}}}();return"object"==typeof n?void(e.exports=i):void(t.share=i)}(window)},{}],2:[function(t,e,n){var i=window.$=t("jq");t("base"),t("ui"),t("scroll");var a={home:t("./index/home"),ui:t("./index/ui"),carousel:t("./index/carousel"),flip:t("./index/flip"),picpager:t("./index/picpager"),piccut:t("./index/piccut"),scroll:t("./index/scroll"),scratchcard:t("./index/scratchcard"),turntable:t("./index/turntable"),share:t("./index/share")};i.panelLoaded=function(t,e){var n=(a[t.attr("id")]||{}).load;"function"==typeof n&&n(t,e)},i.panelUnloaded=function(t){var e=(a[t.attr("id")]||{}).unload;"function"==typeof e&&e(t)}},{"./index/carousel":3,"./index/flip":4,"./index/home":5,"./index/piccut":6,"./index/picpager":7,"./index/scratchcard":8,"./index/scroll":9,"./index/share":10,"./index/turntable":11,"./index/ui":12,base:22,jq:13,scroll:20,ui:23}],3:[function(t,e,n){t("carousel"),n.load=function(t,e){if(e){for(var n="",i=1,a=6;a>i;i++)n+='<img data-title="标题'+i+'" src="img/'+i+'.jpg"/>';$(".carousel").each(function(){$(this).html(n).carousel({isVertical:"1"===this.getAttribute("data-isvertical"),isAutoPlay:!1})})}}},{carousel:15}],4:[function(t,e,n){t("flip"),n.load=function(t,e){e&&$(".flip").each(function(){for(var t=this.getAttribute("data-len"),e="",n=0;t>n;n++)e+='<a><p style="background: url(img/'+(n+1)+'.jpg) center center; background-size: cover;" data-title="3d旋转切换示例 '+(n+1)+'"></p></a>';$(this).html(e).flip({isVertical:"1"===this.getAttribute("data-isvertical")})})}},{flip:16}],5:[function(t,e,n){n.load=function(t,e){if(e){var n=t.find(".list"),i="";for(var a in $.fn)i+="<a>"+a+"</a>";n.append(i)}}},{}],6:[function(t,e,n){t("piccut");var i=$(document);n.load=function(t,e){if(e){var n=$(".avator_up").piccut({fileEl:document.getElementById("file")})[0],a=document.getElementById("shower");i.on("click","#btn_cut",function(){a.src=n.getDataURL()})}}},{piccut:17}],7:[function(t,e,n){t("picpager"),n.load=function(t,e){if(e){var n=1;$.getScript("http://app.gd.sohu.com/minisite/xtep/20140530/get.php?vname=rs&act=list&page="+n+"&code=aa1c9153608a7755b7c20e97c0eade27",function(){var t=$(".picpager").picpager({imgData:rs.data.detail,imgAttrName:"image",slideCallback:function(e){e+1===10*n&&$.getScript("http://app.gd.sohu.com/minisite/xtep/20140530/get.php?vname=rs&act=list&page="+ ++n+"&code=aa1c9153608a7755b7c20e97c0eade27",function(){t[0].addItem(rs.data.detail)})}})})}}},{picpager:18}],8:[function(t,e,n){t("scratchcard"),n.load=function(t,e){e&&$(".scratchcard").each(function(){$(this).scratchcard({text:"刮开有奖",imgSrc:"img/4.jpg"})})}},{scratchcard:19}],9:[function(t,e,n){t("scroll"),n.load=function(t,e){e&&$(".scroll").each(function(){$(this).scroll({isVertical:"1"===this.getAttribute("data-isvertical")})})}},{scroll:20}],10:[function(t,e,n){var i=$(document),a=t("share"),o=document.title,r="http://www.sohu.com/upload/images20140108/sohulogo.png",s=location.href;i.on("click",".icon_share a",function(){a(s,o,r,this.getAttribute("data-provider"))})},{share:1}],11:[function(t,e,n){t("turntable");var i=$(document);n.load=function(t,e){if(e){var n=$(".turntable").turntable({count:10})[0];i.on("click",".turntable .btn_start",function(){var t=parseInt(10*Math.random());n.turnToIndex(t,function(){alert(t+1)})})}}},{turntable:21}],12:[function(t,e,n){$.extend(window,t("alert"))},{alert:14}],13:[function(t,e,n){!function(t,i){function a(e){if(this.length=0,"string"==typeof e){if("#"===e[0]){var n=e.slice(1);if(T.test(n)){var i=v.getElementById(n);return i&&(this[this.length++]=i),this}}if("."===e[0]){var a=e.slice(1);if(T.test(a))return o(v.getElementsByClassName(a),this)}if("<"===e[0]&&">"===e[e.length-1]){var r=v.createElement("div");return r.innerHTML=e,o(r.childNodes,this)}return o(v.querySelectorAll(e),this)}return e instanceof g||e===t?(this[this.length++]=e,this):e&&e.length>0?o(e,this):"function"==typeof e?p().ready(e):void 0}function o(t,e){return t?(s(t,function(t){e[e.length++]=t}),e):e}function r(t){return E[t]||(E[t]=new q("(^|\\s)"+t+"(\\s|$)"))}function s(t,e){for(var n=0,i=t.length;i>n;n++)e(t[n])}function c(t,e){var n=t+"-"+e;if(!P[n]){var i=v.createElement(t);$.appendChild(i),P[n]=m(i)[e],$.removeChild(i)}return P[n]}function u(t,e){return p(e===i?t:w.call(t,function(t){return t.matchesSelector(e)}))}function l(t,e,n,a){s(e.split(S),function(e){t.addEventListener(e,a===i?n:function(e){var i=p(e.target).closest(a,t)[0];i&&n.call(i,e)},!1)})}function f(t,e,n){s(e.split(S),function(e){t.removeEventListener(e,n,!1)})}function d(t){var e=v.createEvent("Events");return e.initEvent(t,!0,!0),e}function h(t){var e=[];for(var n in t)e.push(n+"="+t[n]);return e.join("&")}var p=function(t){return new a(t)},v=t.document,g=t.Node,m=t.getComputedStyle,b={}.toString,x=[],C=x.slice,y=x.indexOf,w=x.filter,k="-webkit-",T=/^[\w-]*$/,S=/\s+/g,E={},q=t.RegExp,$=v.body,P={},A=v.head,j=t.XMLHttpRequest,D=Element.prototype;return D.matchesSelector||(D.matchesSelector=D.webkitMatchesSelector||D.msMatchesSelector||D.mozMatchesSelector),s(["Object","Array","Function"],function(t){p["is"+t]=function(e){return b.call(e)==="[object "+t+"]"}}),p.is$=function(t){return t instanceof a},p.extend=function(t){if(t===i)return this;if(1===arguments.length){for(var e in t)this[e]=t[e];return this}return s(C.call(arguments,1),function(e){for(var n in e)t[n]=e[n]}),t},p.fn=a.prototype={constructor:a,forEach:function(t){for(var e=0,n=this.length;n>e;e++)t(this[e],e);return this},each:function(t){return this.forEach(function(e,n){t.call(e,n)})},ready:function(t){var e=v.readyState;return"complete"===e||"loaded"===e||"interactive"===e?t():l(v,"DOMContentLoaded",t),this},filter:function(t){return u(this,t)},siblings:function(t){var e=[];return this.forEach(function(t){s(t.parentNode.children,function(n){n!==t&&e.indexOf(n)<0&&e.push(n)})}),u(e,t)},not:function(t){if(t===i)return this;var e=[];return this.forEach(function(n){!n.matchesSelector(t)&&e.push(n)}),p(e)},find:function(t){var e=[];return this.forEach(function(n){s(n.querySelectorAll(t),function(t){e.indexOf(t)<0&&e.push(t)})}),p(e)},eq:function(t){return p(this[t])},children:function(t){var e=[];return this.forEach(function(t){s(t.children,function(t){e.push(t)})}),u(e,t)},parent:function(t){var e=[];return this.forEach(function(t){var n=t.parentNode;n!==v&&e.indexOf(n)<0&&e.push(n)}),u(e,t)},parents:function(t){var e=[];return this.forEach(function(t){for(;t=t.parentNode;)t!==v&&e.indexOf(t)<0&&e.push(t)}),u(e,t)},closest:function(t,e){for(var n=this[0];n&&!n.matchesSelector(t);){var i=n.parentNode;n=i===v?null:n!==e&&i}return p(n)},index:function(t){return p.is$(t)&&(t=t[0]),t?y.call(this,t):y.call(this[0].parentNode.children,this[0])},html:function(t){return this.prop("innerHTML",t)},text:function(t){return this.prop("textContent",t)},val:function(t){return this.prop("value",t)},attr:function(t,e,n){return this.prop(t,e,!0,n)},prop:function(t,e,n,a){return a===i&&(a=""),"string"==typeof t&&e===i?(t=a+t,n?this[0].getAttribute(t):this[0][t]):this.forEach(function(i){if(p.isObject(t))for(var o in t){var r=t[o];o=a+o,n?i.setAttribute(o,r):i[o]=r}else t=a+t,n?i.setAttribute(t,e):i[t]=e})},data:function(t,e){return this.attr(t,e,"data-")},removeAttr:function(t){return this.forEach(function(e){s(t.split(S),function(t){e.removeAttribute(t)})})},css:function(t,e){if("string"!=typeof t||e!==i)return this.forEach(function(n){var i=n.style;if(p.isObject(t))for(var a in t)i[a]=i[k+a]=t[a];else i[t]=i[k+t]=e});if(this[0]instanceof g){var n=m(this[0]);return n[t]||n[k+t]}},show:function(){return this.forEach(function(t){var e=t.style;return"none"===e.display?e.display=null:void(e.display=c(t.tagName,"display"))})},hide:function(){return this.css("display","none")},append:function(t,e){var n=p.is$(t)?t:p(t);return this.forEach(function(t){n.forEach(function(n){e?t.insertBefore(n,t.firstChild):t.appendChild(n)})})},prepend:function(t){return this.append(t,!0)},appendTo:function(t,e){var n=p.is$(t)?t:p(t);return n.append(this,e),this},prependTo:function(t){return this.appendTo(t,!0)},wrap:function(t){var e=p.is$(t)?t:p(t);return this.forEach(function(t){t.parentNode.insertBefore(e[0],t),e.append(t)})},offset:function(){var e=this[0].getBoundingClientRect();return{left:e.left+t.pageXOffset,top:e.top+t.pageYOffset,width:e.width,height:e.height}},width:function(){var e=this[0];return e===t?t.innerWidth:e.offsetWidth},height:function(){var e=this[0];return e===t?t.innerHeight:e.offsetHeight},is:function(t){return t&&this[0].matchesSelector(t)},addClass:function(t){return this.forEach(function(e){var n=e.className,i=t.split(S).filter(function(t){return!r(t).test(n)});i.length>0&&(e.className=[n].concat(i).join(" ").trim())})},removeClass:function(t){return this.forEach(function(e){if(t===i)return e.className="";var n=e.className;s(t.split(S),function(t){n=n.replace(r(t)," ")}),e.className=n.trim()})},hasClass:function(t){return r(t).test(this[0].className)}},p.fn.extend=function(t){p.extend.call(this,t)},p.fn.extend({bind:function(t,e){return this.forEach(function(n){l(n,t,e)})},unbind:function(t,e){return this.forEach(function(n){f(n,t,e)})},delegate:function(t,e,n){return this.forEach(function(i){l(i,t,n,e)})},on:function(t,e,n){return"function"==typeof e?this.bind(t,e):this.delegate(t,e,n)},off:function(t,e){return this.unbind(t,e)},trigger:function(t){return t=d(t),this.forEach(function(e){e.dispatchEvent(t)})}}),s(["click","touchstart","touchmove","touchend","submit","load","resize","change","select"],function(t){p.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),p.getScript=function(t,e){var n=/(\.js)$/.test(t),i=v.createElement("script");i.type="text/javascript",i.onload=function(){"function"==typeof e&&e(),!n&&A.removeChild(i)},i.src=t,A.appendChild(i)},p.ajax=function(t){t=p.extend({},p.ajax.defaults,t);var e=new j;e.open(t.type.toUpperCase(),t.url,t.async);var n=t.header||{};n["Content-Type"]=t.contentType;for(var i in n)e.setRequestHeader(i,n[i]);e.onreadystatechange=function(){if(4===e.readyState){if(e.status>=200&&e.status<300||304==e.status){var n=t.success;"function"==typeof n&&n(e)}else{var i=t.error;"function"==typeof i&&i(e)}var a=t.complete;"function"==typeof a&&a(e)}},e.send(h(t.data)||null)},p.ajax.defaults={type:"GET",contentType:"application/x-www-form-urlencoded",async:!0},"object"==typeof n?e.exports=p:void(t.jq=t.$=p)}(window)},{}],14:[function(t,e,n){!function(t){var i='<div id="pi-alert"><div class="pi-box"><h2 class="pi-head"></h2><p class="pi-msg"></p><p><a class="pi-btn-ok"></a></p></div></div><div id="pi-confirm"><div class="pi-box"><h2 class="pi-head"></h2><p class="pi-msg"></p><p><a class="pi-btn-ok"></a><a class="pi-btn-cancel"></a></p></div></div><div id="pi-tooltip"></div>';t(document.body).append(i);var a=function(){function e(){o.addClass("visible");var t=i.onOpen;"function"==typeof t&&t()}function n(){o.removeClass("visible");var t=i.onClose;"function"==typeof t&&t()}var i,o=t("#pi-alert"),r=o.find(".pi-head"),s=o.find(".pi-msg"),c=o.find(".pi-btn-ok");return o.on("click",".pi-btn-ok",function(){if(!c.hasClass("disabled")){n();var t=i.btnOkClick;"function"==typeof t&&t()}}).on("click",function(e){i.isHideOnBgClick&&0===t(e.target).closest(".pi-box").length&&n()}),function(n){"object"!=typeof n&&(n={msg:n}),i=t.extend({},a.defaults,n),o.attr("data-pi-tag",i.tag),r.html(i.head),s.html(i.msg),c.text(i.okTxt),e()}}();a.defaults={head:"提示",msg:"内容",okTxt:"确定",isHideOnBgClick:!1};var o=function(){function e(){a.addClass("visible");var t=i.onOpen;"function"==typeof t&&t()}function n(){a.removeClass("visible");var t=i.onClose;"function"==typeof t&&t()}var i,a=t("#pi-confirm"),r=a.find(".pi-head"),s=a.find(".pi-msg"),c=a.find(".pi-btn-ok"),u=a.find(".pi-btn-cancel");return a.on("click",".pi-btn-ok",function(){if(!c.hasClass("disabled")){n();var t=i.btnOkClick;"function"==typeof t&&t()}}).on("click",".pi-btn-cancel",function(){n();var t=i.btnCancelClick;"function"==typeof t&&t()}).on("click",function(e){i.isHideOnBgClick&&0===t(e.target).closest(".pi-box").length&&n()}),function(n){"object"!=typeof n&&(n={msg:n}),i=t.extend({},o.defaults,n),r.html(i.head),s.html(i.msg),c.text(i.okTxt),u.text(i.cancelTxt),e()}}();o.defaults=t.extend({},a.defaults,{cancelTxt:"取消"});var r=function(){var e,n=t("#pi-tooltip");return function(t,i,a){n.html(t).addClass("visible"),i?n.addClass("ok"):n.removeClass("ok"),clearTimeout(e),e=setTimeout(function(){n.removeClass("visible")},a||2e3)}}(),s={alert:a,confirm:o,tooltip:r};return"object"==typeof n?e.exports=s:void t.extend(window,s)}($)},{}],15:[function(t,e,n){!function(t,e){e.fn.carousel=function(n){return this.each(function(){function i(){w.addClass("pi-carousel").html('<div class="pi-wrap">'+w.html()+"</div>"+(m?'<div class="pi-title"></div>':"")),o=w.find(".pi-wrap"),r=o[0].style,s=o.children("*"),c=s.length,"function"==typeof C&&C(s),d&&w.addClass("vertical"),u=w.find(".pi-title");var t="";if(b){t+='<div class="pi-pager">';for(var e=0,n=c;n>e;e++)t+="<span></span>";t+="</div>"}l=w.append(t).find(".pi-pager span"),a()}function a(){function n(){f=w.width(),C=w.height(),d?(r.height=C*c+"px",s.css("height",C+"px")):(r.width=f*c+"px",s.css("width",f+"px"))}function i(){p&&(T=setInterval(function(){++$===c&&($=0),a()},v))}function a(t){var n,i=-$*(d?C:f);if("number"==typeof t)0===$&&t>0&&(t/=2),$===c-1&&0>t&&(t/=2),i+=t;else{if("function"==typeof g&&g.call(s[$],$),setTimeout(function(){s.each(function(){var t=e(this),n=t.index();n!==$&&t.removeClass("current")})},x),m){var a=s.eq($).addClass("current").attr("data-title");u.removeClass("visible"),a&&setTimeout(function(){u.addClass("visible").html(a)},150)}b&&(l.removeClass("selected"),setTimeout(function(){l.eq($).addClass("selected")},0))}n="translate3d("+(d?"0,"+i+"px,0":i+"px,0,0")+")",o.css({transform:n})}var f,C,T,S,E,q,$=y;n(),k.slideToIndex=function(t,e){return"number"!=typeof t?console.log("index应为数字"):(e?o.removeClass("transform"):o.addClass("transform"),$=t,void a())},k.prev=function(){--$<0&&($=c-1),a()},k.next=function(){++$===c&&($=0),a()},w.on("touchstart",function(t){var e=t.targetTouches[0];S=e.pageX,E=e.pageY,q=0,o.removeClass("transform"),p&&clearInterval(T)}),w.on("touchmove",function(t){var e=t.targetTouches[0],n=e.pageX-S,i=e.pageY-E;d?Math.abs(i)>Math.abs(n)&&(t.preventDefault(),t.stopPropagation(),a(q=i)):Math.abs(n)>Math.abs(i)&&(t.preventDefault(),t.stopPropagation(),a(q=n))}),w.on("touchend",function(){q>h&&--$<0&&($=0),-h>q&&++$===c&&($=c-1),o.addClass("transform"),0!==q&&a(),i()}).trigger("touchend"),l.on("click",function(){var t=e(this).index();k.slideToIndex(t)}),t.addEventListener("resize",function(){var t=w.width();t>0&&(n(),a(0))},!1)}var o,r,s,c,u,l,f=e.extend({},e.fn.carousel.defaults,n),d=f.isVertical,h=f.swipThreshold,p=f.isAutoPlay,v=f.autoPlayInter,g=f.slideCallback,m=f.isShowTitle,b=f.isShowPager,x=f.removeClassDelay,C=f.inited,y=f.initIndex,w=e(this),k=this;i()})},e.fn.carousel.defaults={isVertical:!1,swipThreshold:100,isAutoPlay:!0,autoPlayInter:8e3,slideCallback:null,isShowTitle:!0,isShowPager:!0,removeClassDelay:0,inited:null,initIndex:0}}(window,$)},{}],16:[function(t,e,n){!function(t,e){e.fn.flip=function(t){return this.each(function(){function n(){u.addClass("pi-flip"),l.eq(0).addClass("visible"),"function"==typeof c&&c(0),i()}function i(){function t(t){t.style.cssText=""}function n(n){var i;"number"==typeof n?l.each(function(t){var a=e(this);t===p?(i=o?"rotate3d(1,0,0,"+-n+"deg)":"rotate3d(0,1,0,"+n+"deg)",a.css({transform:i})):(i=o?"rotate3d(1,0,0,"+(180-n)+"deg)":"rotate3d(0,1,0,"+-(180-n)+"deg)",a.css({transform:i}))}):(d=!0,e.isFunction(c)&&c(p),l.each(function(t){var a=e(this);t===p?(i=o?"rotate3d(1,0,0,"+-(n?0:-360)+"deg)":"rotate3d(0,1,0,"+(n?0:-360)+"deg)",a.addClass("visible").css({transform:i})):(i=o?"rotate3d(1,0,0,"+-(n?180:-180)+"deg)":"rotate3d(0,1,0,"+(n?180:-180)+"deg)",a.removeClass("visible").css({transform:i}))}),setTimeout(function(){l.addClass("notrans").each(function(){t(this)}),d=!1},v))}var i,a,f,d,h=l.length,p=0,v=1e3*parseFloat(l.css("transition-duration"));u.on("touchstart",function(t){var e=t.targetTouches[0];i=e.pageX,a=e.pageY,f=0,l.addClass("notrans")}),u.on("touchmove",function(t){var e=t.targetTouches[0],r=e.pageX-i,c=e.pageY-a;o&&Math.abs(r)<Math.abs(c)&&(t.preventDefault(),t.stopPropagation(),!d&&n(f=c/s)),!o&&Math.abs(r)>Math.abs(c)&&(t.preventDefault(),t.stopPropagation(),!d&&n(f=r/s))}),u.on("touchend",function(e){d||(Math.abs(f)>r?(f>0&&-1===--p&&(p=h-1),0>f&&++p===h&&(p=0),l.removeClass("notrans"),n(f>0)):0!==f&&(l.eq(p).removeClass("notrans"),t(l[p])))})}var a=e.extend({},e.fn.flip.defaults,t),o=a.isVertical,r=a.swipThreshold,s=a.rate,c=a.slideCallback,u=e(this),l=u.children("*");n()})},e.fn.flip.defaults={isVertical:!1,swipThreshold:60,rate:1.3,slideCallback:null}}(window,$)},{}],17:[function(t,e,n){!function(t,e){e.fn.piccut=function(n){var i=t.URL||t.webkitURL;return this.each(function(){function t(){T.addClass("pi-piccut").html('<canvas class="pi-piccut-canvas" width="'+q+'" height="'+$+'" style="width:'+S+'px;"></canvas><canvas class="pi-piccut-mask" width="'+q+'" height="'+$+'" style="width:'+S+'px;"></canvas><p class="pi-piccut-cutter"><b class="pi-piccut-resizer"></b></p>'),o=k.getElementsByClassName("pi-piccut-canvas")[0],r=o.getContext("2d"),s=k.getElementsByClassName("pi-piccut-mask")[0],c=s.getContext("2d"),u=k.getElementsByClassName("pi-piccut-cutter")[0],l=e(u),f=e(k.getElementsByClassName("pi-piccut-resizer")[0]),a()}function a(){function t(){l.css({transform:"translate3d("+o+"px, "+s+"px, 0)",width:u+"px",height:A+"px"}),c.clearRect(0,0,q,$),c.globalCompositeOperation="source-over",c.fillStyle=b,c.fillRect(0,0,q,$),c.globalCompositeOperation="destination-out",c.fillStyle="#fff",c.fillRect(o*w,s*w,u*w,A*w)}var e,n,a,o=h,s=p,u=v,A=g;m.onchange=function(){var e=m.files[0],n=i.createObjectURL(e);h=d.cutX,p=d.cutY,v=d.cutWidth,g=d.cutHeight;var a=new Image;a.src=n,a.onload=function(){var e=a.width,n=a.height;if(x){var i=e/n;i>q/$?e>q&&(e=q,n=e/i):n>$&&(n=$,e=n*i)}r.clearRect(0,0,q,$),r.drawImage(a,(q-e)/2,($-n)/2,e,n),setTimeout(function(){t()},0),T.addClass("on")}},k.getDataURL=function(){if(!m.value)return void alert("请选择图片");var t=r.getImageData(h*w,p*w,v*w,g*w),e=document.createElement("canvas");return e.width=v*w,e.height=g*w,e.getContext("2d").putImageData(t,0,0),e.toDataURL("image/png")},T.on("touchstart",function(t){var i=t.targetTouches[0];e=i.pageX,n=i.pageY}),T.on("touchmove",function(i){if(a){i.preventDefault(),i.stopPropagation();var r=i.targetTouches[0],c=r.pageX-e,l=r.pageY-n;u=v+c,A=g+l,C?(v/A>P?A=u/P:u=A*P,s+A>E&&(A=E-s,u=A*P),o+u>S&&(u=S-o,A=u/P)):(s+A>E&&(A=E-s),o+u>S&&(u=S-o)),y&&A<d.cutHeight&&(A=d.cutHeight),y&&u<d.cutWidth&&(u=d.cutWidth),t()}}),l.on("touchmove",function(i){if(!a){i.preventDefault(),i.stopPropagation();var r=i.targetTouches[0],c=r.pageX-e,l=r.pageY-n;o=h+c,0>o&&(o=0),o+u>S&&(o=S-u),s=p+l,0>s&&(s=0),s+A>E&&(s=E-A),t()}}),T.on("touchend",function(){h=o,p=s,v=u,g=A}),f.on("touchstart",function(){a=!0}),f.on("touchend",function(){a=!1})}var o,r,s,c,u,l,f,d=e.extend({},e.fn.piccut.defaults,n),h=d.cutX,p=d.cutY,v=d.cutWidth,g=d.cutHeight,m=d.fileEl,b=d.layerStyle,x=d.isContain,C=d.isKeepScale,y=d.isMinLimit,w=d.scale,k=this,T=e(k),S=k.offsetWidth,E=k.offsetHeight,q=S*w,$=E*w,P=v/g;void 0===h&&(h=d.cutX=(S-v)/2),void 0===p&&(p=d.cutY=(E-g)/2),t()})},e.fn.piccut.defaults={cutX:void 0,cutY:void 0,cutWidth:320,cutHeight:320,fileEl:null,layerStyle:"rgba(128,128,128,0.7)",isContain:!0,isKeepScale:!0,isMinLimit:!0,scale:1}}(window,$)},{}],18:[function(t,e,n){!function(t,e){e.fn.picpager=function(n){return this.each(function(){function i(){d.addClass("pi-picpager").html('<div class="pi-wrap"><div class="pi-pic"></div><div class="pi-pic"></div><div class="pi-pic"></div></div>'),r=d.find(".pi-wrap"),o=d.find(".pi-pic"),a()}function a(){function n(t){switch(r.removeClass("notrans"),t){case 1:case-1:m=!0;var n="translate3d("+(1===t?"":"-")+b+"px,0,0)";i(r,n),setTimeout(function(){i(r.addClass("notrans"),"translate3d(0,0,0)"),o.each(function(t){a(e(this),x+t-1)}),m=!1},C+100);break;default:i(r,"translate3d(0,0,0)")}"function"==typeof f&&f(x,t)}function i(t,e){t.css({transform:e})}function a(t,e){var n=c[e];t.css({"background-image":n?"url("+(u?n[u]:n)+")":"none"})}var s,v,g,m,b=d.width(),x=0,C=1e3*parseFloat(r.css("transition-duration"));o.each(function(t){a(e(this),t-1)}),h.slideToIndex=function(t){var e;"number"!=typeof t||0>t||t>=p||t===x||(t>x?(e=-1,a(o.eq(2),t)):(e=1,a(o.eq(0),t)),x=t,n(e))},h.addItem=function(t){e.isArray(t)?c=c.concat(t):c.push(t),p=c.length},d.on("touchstart",function(t){var e=t.targetTouches[0];s=e.pageX,v=e.pageY,g=0,r.addClass("notrans")}),d.on("touchmove",function(t){if(m)t.preventDefault(),t.stopPropagation();else{var e=t.targetTouches[0],n=e.pageX-s,a=e.pageY-v;if(Math.abs(n)>Math.abs(a)){t.preventDefault(),t.stopPropagation(),0===x&&n>0&&(n/=2),x===p-1&&0>n&&(n/=2);var o="translate3d("+(g=n)+"px,0,0)";i(r,o)}}}),d.on("touchend",function(){if(!m){var t;g>l&&(--x<0?x=0:t=1),-l>g&&(++x===p?x=p-1:t=-1),0!==g&&n(t)}}).trigger("touchend"),t.addEventListener("resize",function(){var t=d.width();t>0&&(b=t)},!1)}var o,r,s=e.extend({},e.fn.picpager.defaults,n),c=s.imgData,u=s.imgAttrName,l=s.swipThreshold,f=s.slideCallback,d=e(this),h=this,p=c.length;i()})},e.fn.picpager.defaults={imgData:null,imgAttrName:null,swipThreshold:100,slideCallback:null}}(window,$)},{}],19:[function(t,e,n){!function(t,e){e.fn.scratchcard=function(t){return this.each(function(){function n(){var t='<canvas style="width: 100%; height: 100%;" width="'+x+'" height="'+C+'"></canvas>';b.css({position:"relative","background-image":"url("+g+")","background-size":"100% auto"}).html(t),r=b.find("canvas"),r.css({position:"absolute",top:0,left:0}),u=b.children("canvas")[0].getContext("2d"),i(),a()}function i(){if(u.fillStyle=d,u.fillRect(0,0,x,C),h){u.fillStyle=p,v&&(u.font=v);var t=u.measureText(h).width;u.fillText(h,l.left||(x-t)/2,l.top||C/2+20,x)}}function a(){r.on("touchstart",function(t){var e=b.offset();s=e.left,c=e.top,u.fillStyle="#fff",u.globalCompositeOperation="destination-out",u.beginPath(),o(t)}),r.on("touchmove",function(t){t.preventDefault(),t.stopPropagation(),o(t)}),r.on("touchend",function(t){u.globalCompositeOperation="source-over"})}function o(t){var e=t.targetTouches[0];u.arc((e.pageX-s)*m,(e.pageY-c)*m,f*m,0,2*Math.PI,!0),u.closePath(),u.fill()}var r,s,c,u,l=e.extend({},e.fn.scratchcard.deflunt,t),f=l.fineness,d=l.paintStyle,h=l.text,p=l.fontColor,v=l.font,g=l.imgSrc,m=l.scale,b=e(this),x=b.width()*m,C=b.height()*m;n()})},e.fn.scratchcard.deflunt={fineness:30,paintStyle:"#ccc",text:"",fontColor:"#f00",font:"bold 60px sans-serif",imgSrc:"",scale:1}}(window,$)},{}],20:[function(t,e,n){!function(t,e){e.fn.scroll=function(n){function i(t,e,n){var i=a.abs(t)/e;return i*i*n}var a=t.Math;return this.each(function(){function o(){g.addClass("pi-scroll-item"),r()}function r(){function e(){var t=c?g.height()+parseFloat(g.css("margin-top"))+parseFloat(g.css("margin-bottom")):g.width()+parseFloat(g.css("margin-left"))+parseFloat(g.css("margin-right")),e=c?v.height()-parseFloat(v.css("padding-top"))-parseFloat(v.css("padding-bottom")):v.width()-parseFloat(v.css("padding-left"))-parseFloat(v.css("padding-right"));return t-e}function n(t){t>0&&(t/=2),-t>C&&(t+=(-t-C)/2);var e="translate3d("+(c?"0,"+(x=t)+"px,0":(x=t)+"px,0,0")+")";g.css({transform:e})}function o(t){var e=c?t.offsetTop-g[0].offsetTop-(v.height()-t.clientHeight)/2:t.offsetLeft-g[0].offsetLeft-(v.width()-t.clientWidth)/2;n(0>e?0:C>e?-e:-C)}var r,s,m,b={},x=0,C=e();v[0].center=o,v.on("touchstart",function(t){var e=t.targetTouches?t.targetTouches[0]:t;b.startTime=t.timeStamp,b.startX=r=e.pageX,b.startY=s=e.pageY,m=x,g.addClass("notrans")}),v.on("touchmove",function(t){var e=t.targetTouches?t.targetTouches[0]:t,i=e.pageX,o=e.pageY,u=i-r,f=a.abs(u),d=o-s,h=a.abs(d),v=t.timeStamp;c?(l>f||h>f)&&(t.preventDefault(),t.stopPropagation(),n(m+d)):(l>h||f>h)&&(t.preventDefault(),t.stopPropagation(),n(m+u)),v-b.startTime>p&&(b.startTime=v,b.startX=i,b.startY=o)}),v.on("touchend",function(t){var e=t.changedTouches?t.changedTouches[0]:t,a=c?e.pageY-b.startY:e.pageX-b.startX,o=t.timeStamp-b.startTime,r=o>u?0:i(a,o,h);r>f&&(r=f),g.removeClass("notrans"),0>a?n(C>-(x-r)?x-r:-C):a>0&&n(0>x+r?x+r:0)}),d&&v.on("click",function(t){o(t.target)}),t.addEventListener("resize",function(){var t=v.width();t>0&&(C=e())},!1)}var s=e.extend({},e.fn.scroll.defaults,n),c=s.isVertical,u=s.timeSpanThreshold,l=s.swipSpanThreshold,f=s.maxScroll,d=s.isAdjust,h=s.reviseRatio,p=s.touchDuration,v=e(this),g=v.children("*");o()})},e.fn.scroll.defaults={isVertical:!1,timeSpanThreshold:300,swipSpanThreshold:10,maxScroll:800,isAdjust:!1,reviseRatio:400,touchDuration:300}}(window,$)},{}],21:[function(t,e,n){!function(t,e){e.fn.turntable=function(t){return this.each(function(){function n(){a=e('<div class="pi-pointer"></div>'),f.addClass("pi-turntable").prepend(a),i()}function i(){var t,e;d.turnToIndex=function(n,i){if(!(n>r||e)){var o=c/1e3+"s "+u,f=s+n/r*360+l+"deg",d="rotateZ("+f+")";a[0].style.cssText="",e=!0,setTimeout(function(){a.css({transform:d});var n=a[0];n.style["-webkit-transition"]="-webkit-transform "+o,n.style.transition="transform "+o,clearTimeout(t),t=setTimeout(function(){"function"==typeof i&&i(),e=!1},c)},40)}}}var a,o=e.extend({},e.fn.turntable.defaults,t),r=o.count,s=o.rotateDeg,c=o.duration,u=o.timeFx,l=o.offset,f=e(this),d=this;n()})},e.fn.turntable.defaults={count:12,rotateDeg:3600,duration:7e3,timeFx:"cubic-bezier(0.42,0,0.25,1)",offset:0}}(window,$)},{}],22:[function(t,e,n){!function(t,e){var n=t.document,i=e(n),a=e(n.body),o=e("#mainbox");e.isShowQrcode=!0,e.isBodyScroll="hidden"!==o.css("overflow"),e.isBodyScroll||(a.addClass("very-high"),t.scrollTo(0,1),a.removeClass("very-high"));var r=navigator.userAgent;e.isMobi=/(iPhone|iPod|iPad|android)/i.test(r),e.isAndroid=/(android)/i.test(r),e.isIos=/(iPhone|iPod|iPad)/i.test(r),e.toggleMask=function(t){t?a.addClass("onmask"):a.removeClass("onmask")},e(function(){setTimeout(function(){a.addClass("loaded")},100),i.on("touchstart","a",function(){e(this).addClass("focus")}),i.on("touchend touchmove","a",function(){e(this).removeClass("focus")}),e.isShowQrcode&&!e.isMobi&&e.getScript("http://img.gd.sohu.com/static/v3/qrcode.js",function(){var t=e("#qrcode");0===t.length&&(t=e('<div id="qrcode"></div>'),a.append(t),new QRCode(t[0],{width:t.width(),height:t.height(),text:location.href})),i.on("click","#qrcode",function(){t.hide()})}),!e.isMobi&&e.getScript("http://img.gd.sohu.com/static/v3/desktouch.js")})}(window,$)},{}],23:[function(t,e,n){!function(t,e){var n=t.document,i=e(n),a=n.body,o=e(a),r=e("#mainbox");e.homeSelector="#home",e.isBodyScroll&&e.isIos&&e(t).on("resize",function(){var t=e("#header,#navbar");return function(){t.css({width:a.offsetWidth+"px"})}}()).trigger("resize"),e.toggleHeader=function(t){t?r.removeClass("offheader"):r.addClass("offheader")},e.toggleNavbar=function(t){t?r.removeClass("offnavbar"):r.addClass("offnavbar")},e.setTitle=function(){var t=e(".roottitle .title");return function(e){e&&t.html(e)}}(),e.setSubtitle=function(){var t=e(".subtitle .title");return function(e){e&&t.html(e)}}(),e.loadPanel=function(){function t(t,n){!n&&t.removeClass("show"),"paneliframe"===t[0].id&&t.html("");var i=e.panelUnloaded;"function"==typeof i&&i(t)}var i=e("#navbar a"),s=n.querySelector(".navbox"),c=e(".panel"),u=1e3*parseFloat(c.css("transition-duration")),l=e.history=[],f=e("#header");e.isLoadAnimation=!0;var d=function(){var t={};return function(n,i){e.isBodyScroll&&(i?t[n]=a.scrollTop:a.scrollTop=t[n]||0)}}(),h=function(){var t={};return function(n,i){var a=n[0].id;n.addClass("show opened"),setTimeout(function(){!i&&d(a)},0);var o=e.panelLoaded;"function"==typeof o&&o(n,!t[a]),t[a]=!0}}();return e.toggleSidebox=function(){var n=e("#sidebox");return function(i){var a=e.history[e.history.length-1];i?(o.addClass("onsidebox"),h(n),t(a,!0)):(o.removeClass("onsidebox"),t(n),h(a,!0))}}(),function(n,a){var o,c;if(void 0===n?(c=l.pop(),o=l[l.length-1]||e(e.homeSelector),n="#"+o[0].id):(o=e(n),o.length>0&&(c=l[l.length-1],l.push(o))),o.length>0){i.length>0&&i.each(function(){for(var t=(this.getAttribute("data-hash")||this.hash).split("|"),a=0,o=t.length;o>a;a++)t[a]===n&&(i.removeClass("selected"),e(this).addClass("selected"),s.center(this))});var p=o.attr("data-role");if("root"===p?(e.setTitle(o.attr("title")),e.toggleNavbar(!0),f.removeClass("onsubtitle")):(e.setSubtitle(o.attr("title")),e.toggleNavbar(!1),f.addClass("onsubtitle")),!c)return void h(o);if("#"+c[0].id!==n){var v=c.attr("data-role");d(c[0].id,1);var g=void 0===a?e.isLoadAnimation:a;if(!g||"root"===p&&"root"===v)return o.addClass("notrans"),c.addClass("notrans"),h(o),void t(c);o.addClass("show"),r.addClass("reflow"),setTimeout(function(){o.removeClass("notrans"),c.removeClass("notrans"),"root"===p?(o.removeClass("subopened"),c.removeClass("opened")):o.hasClass("subopened")?(o.removeClass("subopened"),c.removeClass("opened")):c.addClass("subopened").removeClass("opened"),h(o),setTimeout(function(){setTimeout(function(){r.removeClass("reflow")},400),t(c)},u)},10)}}else console.log(n+"面板未找到")}}(),e(function(){i.on("click",".btn-onsidebox",function(){e.toggleSidebox(1)}),i.on("click",".btn-offsidebox",function(){e.toggleSidebox(0)});var t=e("#paneliframe");0===t.length&&(t=e('<div id="paneliframe" class="panel"></div>'),r.append(t)),i.on("click","a",function(n){var i=this.hash;if(i)return n.preventDefault(),void e.loadPanel(i);var a=this.getAttribute("data-href"),o=this.getAttribute("data-title");a&&(n.preventDefault(),t.html('<iframe src="'+a+'"></iframe>'),e.setSubtitle(o||"详情"),e.loadPanel("#paneliframe"))}),i.on("click","#btn-goback",function(){e.loadPanel()});var n=e(".navbox");n.length>0&&n.scroll();var a=location.hash;e.loadPanel(a||e.homeSelector)})}(window,$)},{}]},{},[2]);